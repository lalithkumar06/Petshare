{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\project\\\\client\\\\src\\\\pages\\\\MyPets.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Container, Typography, Grid, Card, CardMedia, CardContent, Button, Box } from '@mui/material';\nimport { pets } from '../utils/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyPets = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [myPets, setMyPets] = useState([]);\n  useEffect(() => {\n    fetchMyPets();\n  }, []);\n  const fetchMyPets = async () => {\n    try {\n      const {\n        data\n      } = await pets.getAll();\n      setMyPets(data.filter(p => p.owner && p.owner._id === user.id));\n    } catch (err) {\n      toast.error('Failed to fetch your pets');\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await pets.delete(id);\n      toast.success('Pet deleted');\n      fetchMyPets();\n    } catch (err) {\n      toast.error('Failed to delete pet');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        my: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"My Pets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        sx: {\n          mt: 2\n        },\n        children: myPets.map(pet => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              component: \"img\",\n              height: \"180\",\n              image: pet.imageUrl,\n              alt: pet.name,\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = 'https://via.placeholder.com/400x200?text=No+Image';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: pet.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [pet.breed, \" \\u2022 \", pet.age, \" years\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 2\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"error\",\n                  onClick: () => handleDelete(pet._id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this)\n        }, pet._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(MyPets, \"d7Hy9Djcst/CE+LTupGAcR+jrUM=\", false, function () {\n  return [useAuth];\n});\n_c = MyPets;\nexport default MyPets;\nvar _c;\n$RefreshReg$(_c, \"MyPets\");","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Grid","Card","CardMedia","CardContent","Button","Box","pets","useAuth","toast","jsxDEV","_jsxDEV","MyPets","_s","user","myPets","setMyPets","fetchMyPets","data","getAll","filter","p","owner","_id","id","err","error","handleDelete","delete","success","children","sx","my","variant","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","mt","map","pet","item","xs","sm","md","component","height","image","imageUrl","alt","name","onError","e","target","onerror","src","breed","age","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/project/client/src/pages/MyPets.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Container, Typography, Grid, Card, CardMedia, CardContent, Button, Box } from '@mui/material';\r\nimport { pets } from '../utils/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst MyPets = () => {\r\n  const { user } = useAuth();\r\n  const [myPets, setMyPets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchMyPets();\r\n  }, []);\r\n\r\n  const fetchMyPets = async () => {\r\n    try {\r\n      const { data } = await pets.getAll();\r\n      setMyPets(data.filter(p => p.owner && p.owner._id === user.id));\r\n    } catch (err) {\r\n      toast.error('Failed to fetch your pets');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await pets.delete(id);\r\n      toast.success('Pet deleted');\r\n      fetchMyPets();\r\n    } catch (err) {\r\n      toast.error('Failed to delete pet');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Box sx={{ my: 4 }}>\r\n        <Typography variant=\"h4\">My Pets</Typography>\r\n        <Grid container spacing={3} sx={{ mt: 2 }}>\r\n          {myPets.map(pet => (\r\n            <Grid item xs={12} sm={6} md={4} key={pet._id}>\r\n              <Card>\r\n                <CardMedia component=\"img\" height=\"180\" image={pet.imageUrl} alt={pet.name} onError={e => { e.target.onerror = null; e.target.src = 'https://via.placeholder.com/400x200?text=No+Image'; }} />\r\n                <CardContent>\r\n                  <Typography variant=\"h6\">{pet.name}</Typography>\r\n                  <Typography variant=\"body2\">{pet.breed} â€¢ {pet.age} years</Typography>\r\n                  <Box sx={{ mt: 2 }}>\r\n                    <Button variant=\"outlined\" color=\"error\" onClick={() => handleDelete(pet._id)}>Delete</Button>\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MyPets;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,UAAU,EAAEC,IAAI,EAAEC,IAAI,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,EAAEC,GAAG,QAAQ,eAAe;AACtG,SAASC,IAAI,QAAQ,cAAc;AACnC,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM;IAAEC;EAAK,CAAC,GAAGN,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAExCD,SAAS,CAAC,MAAM;IACdoB,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMX,IAAI,CAACY,MAAM,CAAC,CAAC;MACpCH,SAAS,CAACE,IAAI,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,IAAID,CAAC,CAACC,KAAK,CAACC,GAAG,KAAKT,IAAI,CAACU,EAAE,CAAC,CAAC;IACjE,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZhB,KAAK,CAACiB,KAAK,CAAC,2BAA2B,CAAC;IAC1C;EACF,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOH,EAAE,IAAK;IACjC,IAAI;MACF,MAAMjB,IAAI,CAACqB,MAAM,CAACJ,EAAE,CAAC;MACrBf,KAAK,CAACoB,OAAO,CAAC,aAAa,CAAC;MAC5BZ,WAAW,CAAC,CAAC;IACf,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZhB,KAAK,CAACiB,KAAK,CAAC,sBAAsB,CAAC;IACrC;EACF,CAAC;EAED,oBACEf,OAAA,CAACZ,SAAS;IAAA+B,QAAA,eACRnB,OAAA,CAACL,GAAG;MAACyB,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAF,QAAA,gBACjBnB,OAAA,CAACX,UAAU;QAACiC,OAAO,EAAC,IAAI;QAAAH,QAAA,EAAC;MAAO;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAC7C1B,OAAA,CAACV,IAAI;QAACqC,SAAS;QAACC,OAAO,EAAE,CAAE;QAACR,EAAE,EAAE;UAAES,EAAE,EAAE;QAAE,CAAE;QAAAV,QAAA,EACvCf,MAAM,CAAC0B,GAAG,CAACC,GAAG,iBACb/B,OAAA,CAACV,IAAI;UAAC0C,IAAI;UAACC,EAAE,EAAE,EAAG;UAACC,EAAE,EAAE,CAAE;UAACC,EAAE,EAAE,CAAE;UAAAhB,QAAA,eAC9BnB,OAAA,CAACT,IAAI;YAAA4B,QAAA,gBACHnB,OAAA,CAACR,SAAS;cAAC4C,SAAS,EAAC,KAAK;cAACC,MAAM,EAAC,KAAK;cAACC,KAAK,EAAEP,GAAG,CAACQ,QAAS;cAACC,GAAG,EAAET,GAAG,CAACU,IAAK;cAACC,OAAO,EAAEC,CAAC,IAAI;gBAAEA,CAAC,CAACC,MAAM,CAACC,OAAO,GAAG,IAAI;gBAAEF,CAAC,CAACC,MAAM,CAACE,GAAG,GAAG,mDAAmD;cAAE;YAAE;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC9L1B,OAAA,CAACP,WAAW;cAAA0B,QAAA,gBACVnB,OAAA,CAACX,UAAU;gBAACiC,OAAO,EAAC,IAAI;gBAAAH,QAAA,EAAEY,GAAG,CAACU;cAAI;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAa,CAAC,eAChD1B,OAAA,CAACX,UAAU;gBAACiC,OAAO,EAAC,OAAO;gBAAAH,QAAA,GAAEY,GAAG,CAACgB,KAAK,EAAC,UAAG,EAAChB,GAAG,CAACiB,GAAG,EAAC,QAAM;cAAA;gBAAAzB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eACtE1B,OAAA,CAACL,GAAG;gBAACyB,EAAE,EAAE;kBAAES,EAAE,EAAE;gBAAE,CAAE;gBAAAV,QAAA,eACjBnB,OAAA,CAACN,MAAM;kBAAC4B,OAAO,EAAC,UAAU;kBAAC2B,KAAK,EAAC,OAAO;kBAACC,OAAO,EAAEA,CAAA,KAAMlC,YAAY,CAACe,GAAG,CAACnB,GAAG,CAAE;kBAAAO,QAAA,EAAC;gBAAM;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC,GAV6BK,GAAG,CAACnB,GAAG;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWvC,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEhB,CAAC;AAACxB,EAAA,CAlDID,MAAM;EAAA,QACOJ,OAAO;AAAA;AAAAsD,EAAA,GADpBlD,MAAM;AAoDZ,eAAeA,MAAM;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}